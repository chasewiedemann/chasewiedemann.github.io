---
title: "Blog"
output: html_document
theme: journal
---
|
[Home](https://chasewiedemann.github.io/index.html) |
[About](https://chasewiedemann.github.io/Site/about.html) |
[Projects](https://chasewiedemann.github.io/Site/Projects/projects.html) |
[Paper Summaries](https://chasewiedemann.github.io/Site/Summaries/summaries.html) |
[Blog](https://chasewiedemann.github.io/Site/blog.html) |


# 8/13/24 Another Day another Dollar

Ok. So the plan for today is three fold. First, I want to do a paper summary on McMillan 2001. This is the subcenter identification paper that I will be extending with dynamics. After that, I want to work on some FKRB stuff. Probably get a data creation and estimation function going. I think that the data creation function is going to be the first Faster Function Friday. Third, the zbp scrape failed after 2004. I am having it run 2005 now, I think it might have just been a HTML timeout thing. If that finishes, Ill get it set up to run 2006:2018 overnight again. So thats the plan. Lets go.


## End of Day

I did not finish any of my three goals. But the paper summary is looking very good. Thank god for my blog or I definiately would not have remember to start the scrape again. Go check the McMillen summary. I still need to finishe the LWR portion, but its pretty good so far. I definitely have learned alot.

# 8/12/2024: Site Refinements and Some Actual Work

The goal for today is to get the site to a point where its fully functional, but still pretty ugly. That includes

- Refining the Home Page
- Refining About Page
- Getting Links and Templates for the Project Page
- Getting Links and Templates for the Paper Summaries Page

After that I will mostly be working on the mini blog within the subcenter identification page. The next update should be saying that its all done, and the one after that will be on the mini-blog. Quick idea, mini blog H1 headers should appear as links in the main blog page.

## Site Refinements

I also want to append the myRender.R script to run the standard git process. So it would do all the rendering that it does now, stage all the changes, take the commit message as an argument, commit and push just from one click. Is this where I make my functions folder?

I should also mention that. I want to start doing weekly things. As I am currently talking to no one, its more of just a commitment device. I'm think the two things will be "GPU Function Friday" where I try to speed up a commonly used R function using the GPU, and Monday Paper Summaries. That gets me doing something over the weekend. 

Back to site refinements.

### Update

I added a template for the Projects page, along with all the machinery to get the website to work. One thing I noticed is that the render now takes significantly longer. At some point, I'm going to need to have it check for changes in the Rmd files as compared to whats on Github before rendering. But, a more pressing issue is that it is doing double the work right now. The rmarkdown::render_site() creates a _site dir that has the entire site. Lets see what happens if I remove that now that I have a better idea of whats going on. The other thing is that it is rendering the templates, which obviously doesn't need to happen, so I wrote a quick grepl to stop that. Lets see what happens

### Update 2

Everything is working. I have a couple commits that aren't assigned to a blog post (I'm gonna start calling these unlabled commits) just to get it running. I had ~/Project/~ instead of ~/Projects/~ in the link for the projects.html page. Another thing I learned last night after reading about how the site updates is that my browser is caching the page and loading that instead of the newest version. If I want to see the newest version right away, I have to clear my browsers cache. Or I can just wait until it clears itself. This should appear along with the Mini-Blog and replication of the subcenter identification so lets go!

### Update 3

I got to working on the subcenter project and realized that I dont have a way to get around within the projects page. I think that the projects pages will get a secondary navigation bar that lets you cycle through the working paper, working slides, replication, and mini-blog. 

I also have no idea how the working slides are going to work, but thats a problem for a different day. Lets get to work.

- add navigation to the template files
- Remove the unstarted FKRB and dmEstimator Folders
- add the navigation into the Muni Project files on the fly

### Update 4

lol. I am trying some fixes and I did them on the miniblog.rmd side. But I dont have a way of checking that. So lets do it to the replicaiton.rmd, which actually displays. Lets go

### Update 5

It worked! I just want to add some pipes "|" to seperate everything like the traditional nav bar. 

I also want to mention two things. When I am doing commits to both this blog and a mini blog, I should be saying which one it is. But when I do both that can be kinda tricky. For the most part, I should just be commiting more before changing to other things. But when Im still doing a lot of site refinement, its gonna get messy. So bear with me and I'll try to make it somewhat intelligible

Second, I had a good idea in the mini-blog for the muni project. My replication was getting pretty stream of conscious-y, and I was trying to define the boundaries between a mini blog and a replication. What I landed on is that a replication can (and should) be edited while the blog, whether is mini or big, should not. So thats gonna be the boundary between those two areas for now. I would imagine that any traditional segment that Id have on the blog, like GPU Function Friday would be editted. So maybe that gets its own section like the Projects and Paper Summaries? I don't know yet, lets find out. Back to work

- Add Pipes
- add changes to templates
- redo the directories for the uninitiated but built projects
- reformat muni project to include sub nav

### Update 6

It didn't work. I have the working directory, but apparently the internet wants links to be actual urls not the location of the files on my local computer. Weird. Well lets fix that and get it to work. Maybe a little bit more debugging instead of just looking at it and saying its good would be warrented next time.

### Update 6 (mini Update)
Mini update. I had WorkingSlide.html instead of WorkingSlides.html. This should be the last bug fix, for this. Lets go.

### Update 7

Well this little detour has taught me something. I need to be doing these site changes via a program instead of by hand and with templates. I basically need to be able to just call a function at the top of every page that will spit out the links to everything instead of changing it by hand. But thats defininately not what I need to be doing now. Thats a at home on my own time project. 

Am I basically just making CSS? Yeah probably. But at least its my CSS and I know what its doing. I'd imagine that actuall CSS is better for this, but that seems like a something for a MUCH later date.

Ok, finally, back to work. Lets go

## Quick Thoughts on Code

What happens when I have something that takes a while to run? I don't want it to run everytime i recompile. Making sure only the current project recompiles is something on the todo list, but this is within that problem. 

Obvious solution would be the run it, save it in a RDS, comment out the code block, and then load it. But thats very ugly and requires commenting and uncommenting. I think a better solution is to make everything a function. I can then either just comment out the function call, or I can write some if statements around it at the top. I like this solution and Im gonna implement it in the muniProject. I also need to figure out how the filing system is actually gonna work, but I think getting into the thick of it will tell me the best way. With that said, Ill report back from the thick of it. 


## Lunch Thought
GPU Function Friday is pretty restrictive. My thought at lunch was that it should be "Faster Function Friday". This incorporates a lot of different ways that I can make a function faster, instead of just using the GPU. Im gonna update the about page quick, and then carry on.

## Excited

I just commited and looked at the mini-blog. Thats a lot of work going on. Also, the no eval worked but it propagated through the entire system. Id imagine I need to turn it on for each thing? Idk. Burn that bridge when we get to it. 

## Calling for the day

Calling it for the day at work. The replication code is take forever to run, so I am going to commit and then let it run over night. Were back at it tomorrow.



# 8/11/2024: Making This Site

I am trying to get this site running. I'm hosting it on github pages through a Rproject. I like the simplicity of it so far, but the things I have read online have been suggesting a blogdown for larger projects. But I think I want to be the one whose doing all the background work, instead of relying on some blackbox to do it. Well, I am already relying on the blackbox of Rmarkdown, but I think I get that better.

Alright, the plan for the rest of the day is to get my municipal project onto here. What does that look like.

- You click on Projects
- Its under working projects
- you click on the title
- it takes you to the replication page (or the diary page not sure yet)
- You can get to the other pages (working paper, working slides, and replication) from that initial page

Lets go!

### Some starters

I think I want to document heavily, and to get that done, lets get a little formalism on how to do that. I imagine this isnt really where I should be doing stuff like this when working on a project, that should be on the diary page of that project, but this is like the diary of the website, so the rambling should go here. Lets say that all dated diary posts start with two hashtags and then any subsection start with 3. Lets see how this works in read time.

### Site rendering reminder
To render the site, save everything, rmarkdown::render_site(), commit and push.

### Lets try some code

```{r}
2+2
print(1+1)
```

### It worked!

Lets add some more stucutre before working on the projects. I want the files system that is running this website to mimic the website. So the only thing that is going to go in the main part of the file is the index.rmd that contains the text of the front page, and the _site.yaml file that controls the formatting. Everything else goes into a folder called NavBar

In NavBar about.rmd and blog.rmd can hang out by themseleves because tthey are just static pages. But summaries and projects need additional filing. So in NavBar, there blog.rmd, about.rmd, a Projects Folder, and a Summaries Folder. We are gonna focus on the Projects folder, but it should be similar to summaries.

Within the Projects folder, we have the projects.rmd. This need to list Links to all the actual projects. Right now I have three. each with its own folder. Again lets work with MuniProject, but the others should be similar. 

We want the 4 Files in here, working paper, working_slides, replication, and diary. Lets think about what the url should look like, which will hopefully get us a little closer to a good structure.

Let ~ denote chasewiedemann.github.io. So what do we want. We want to click on ~/Projects and see a list of Projects. We Then Want to click on ~/Projects/MuniProject/ and see a the 4 ingredients. Ok. Lets get ~/Projects Working. I lied. I want to do this for the MuniProject and the GridEstimators Project as an example to make sure it works for multiple. I should probably commit.  

### Bad (But in the End Good) Idea
I made a bunch of chagnes to the files structure, but didnt tell my _site.yml file about it. But fortunately, it seems like my output_dir docs file is really good at mimicing my file structure. I have everything fixed and will commit now. 

### Structure Note
When I say I am going to commit after immediately describing something. I will make the commit message the next highest header, underscore, and then the date. For example, I am going to commit now. the commit message will be strcuture note_081124

### Oh No
It didn't work. I guess I have to figure out what this output_dir is actually doing. Or do I need to make them html? Lets see if I can find a link

https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html

This guy is saying (Right about 10.5.2) that all the .rmd or .md files in the ROOT of the directory will be rendered into HTML. Mine are in folders. 

Looking more into the site, it seems like the entire reason that people recommend blogdown is for this reason. It will only render the .rmd into html that are on the front page. 

I think what I need to do is output everything to a html_file. Im gonna try that with this the projects.rmd, about.rmd, projects.rmd page

What I need to do is write a script that goes through all of my rmds. renders them, and creates the html doc.

TEsting on the terminal now. Lets see if i can get blog.rmd to create NavBar/blog.html

That Worked. So What I need to Do is create my own script that will search through the NavBar director, and render all the .rmd files in it. lets go!!

## The Script

Ok heres the script. its title myRender.R and is found in the main files

```{r,eval = F}

library(tools)
all_files = list.files(paste0(getwd()),recursive = T)
toRender = all_files[file_ext(all_files) == "Rmd"]

for (files in toRender) {
  rmarkdown::render(files)  
}
rmarkdown::render_site()

```

All it does is go into the NavBar directory, find all the files that end in .rmd, and then render them. It then runs the render_site() command that seems to be doing a lot of the backend work that I dont fully understand yet. One potential downside I see is that this will render literally everything. That could be an issue if I have a large project somewhere. I think I can probably just go and check to see if its different from the github page, and then not render it if it hasnt changed, but thats an issue for another day. Lets commit by running myRender in the terminal

### Update

I got it working. Sometimes i get a weird index.lock file that I can only delete once I'm outside of R. Theres obviously more going on here than I comprehend, but I think I'm getting the hang of it. I just updated the home page, lets see if that works

### Update 2

I got everything running exactly as I have written it. The only issue is that the exact way I have written it removes all the links to other files. That means that once you are on the about page, theres no way to get back to index or projects. Lets fix that now. What i am trying first is just to add a navbar like in the _site.yml file into the about.rmd. Hopefully when this renders, it will add a navbar. Lets commit and check. I forgot to run myRender first, so lets find out if I messed everything up

### Update 3

Two things. First, I should be need to rethink my commit messages. Just Going up 1 doesnt make sense. So What Im going to do is to go up 2 and have both. So the day post will be a single hashtag, and then a topic will be a double. Then withing that topic i will be doing updates with a third hastag. So this one will be This Script_Update 3 081124

The other thing is that I don't know if my changes do anything. Im gonna need to remember to add something like "test TExt" to the bottom of a page Im testing

### Update 4

Its not updating anything. I can see on the github page that it went from pending to deployed. Im gonna check again before commiting the next changes. What I did is change the _site.yml to "doc/NavBar/~" instead of "NavBar/~". Again, I think this is more because I don't know what render_site() is actually doing, but this seems like an easy fix for now

Good thing I checked, the text loaded, but the about.html still doesn't have a navbar. Lets see if what I was previously planning on doing has a fix. I just have to be patient, and add a new Test Text 


### Update 5

I think I know what to do here. My last commit showed changes to the NavBar folder, but not to the docs folder. I need to port over my rendered stuff into the docs file. Heres the script

```{r,eval = F}


library(tools)
all_files = list.files(paste0(getwd()),recursive = T)
toRender = all_files[file_ext(all_files) == "Rmd"]
toRender = toRender[toRender != "index.Rmd"] ### Because Render Site will do this



for (files in toRender) {
    rmarkdown::render(files)
    file_name = gsub(file_ext(file),"",file)
    file.copy(from = paste0(file_name,"html"),paste0("docs/",file_name,"html"))
}


rmarkdown::render_site()
```

Not very elegant, but it should work.


### Update 6 

I scraped all that. The navBar idea is a non-starter at this point. I looked at the html code that was built, and hopefully at some point it isnt giberish to me, but for now its incomprehensible. Lets just build it statically. You should be able to get back home with a button click from every page. Thats gonna just need to be a template. I think thats what I will need to eventually do. Create a template directory that I can just add from. But lets start a new top and work on getting a link at the top of the page from the about page to the home page. This will create a pattern that we can replicate

## How to get Home

### Start 

Lets look at the internet for help. It seems pretty easy. Heres there example [RStudio](https://www.rstudio.com). Lets add something similar to the about.rmd, but its gonna take us Home. I have no clue what its gonna look like, and i just added the url of the home page to it

### Update

It worked, but now I want to do something a little more basic. Lets get rid of the pre-built navbar in favor of more control. I removed all the stuff from the _site.yml file. Lets get links to all the other stuff into the index.rmd file

### Update 2

We ran into some issues. Without the additional help from the black box, we never create a index.html page. I had previously skipped over it, but now we need it. I commited before writing this under How to get Home unlabled 1. Lets see if it works

### Update 3

It still is failing its build. Im gonna look at the index.html that it loads in a local web browser to make sure its not something dumn about me doing links wrong. A possible problem is that when I run rmarkdown::render_site(), it is deleting some of my stuff. Lets try going full manual

### Update 4

I think I found a (the?) issue. In the Setting page of Github, I had it building from a file called docs because thats how the tutorial that I read told me to do it. Now that I am straying from the source, I need to make sure I dont have any of those old relics in there. Lets see if that fixes it.

### Update 4 (updated)

It works. This is as basic as I can get this site, and I think that probably for the best (for now). I think Im going to get all the links into the pages, figure out the projects page, and then call it a day. Next commit will be all the Site links, then onto the projects page

### Update 5

I'm not sure if I'm not being patient enough to let the changes go through, or if its fixed, or if I just broke it. Im going to go update every page and run it how I have it now. Then Ill let it sit for awhile and check if it ever updates

### Last Update 
Unless it fails. It works, just takes a while for the site to catch up. I foresee this being an even larger issue when I start making bigger changes. But another problem for another day. Im gonna have the myRender script take out the _site dir to clean everything up. Ive also updated the checks on each page to include a 2
